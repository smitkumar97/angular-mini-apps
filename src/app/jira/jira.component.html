<div cdkDropListGroup class="jira-board">
  <!-- To Do Column -->
  <div class="board-column">
    <h2 class="column-header todo-header">To Do</h2>
    <div
      cdkDropList
      [cdkDropListData]="todo"
      class="ticket-list"
      (cdkDropListDropped)="drop($event)"
    >
      @for (item of todo; track item.id) {
      <div class="ticket-card" cdkDrag>
        <div class="ticket-id">{{ item.id }}</div>
        <h3 class="ticket-title">{{ item.title }}</h3>
        <p class="ticket-desc">{{ item.description }}</p>
        <div class="ticket-footer">
          <span class="ticket-type">{{ item.type || "Task" }}</span>
          <span class="ticket-points" *ngIf="item.points"
            >{{ item.points }} pts</span
          >
        </div>
      </div>
      }
    </div>
  </div>

  <!-- In Progress Column -->
  <div class="board-column">
    <h2 class="column-header in-progress-header">In Progress</h2>
    <div
      cdkDropList
      [cdkDropListData]="inProgress"
      class="ticket-list"
      (cdkDropListDropped)="drop($event)"
    >
      @for (item of inProgress; track item.id) {
      <div class="ticket-card" cdkDrag>
        <div class="ticket-id">{{ item.id }}</div>
        <h3 class="ticket-title">{{ item.title }}</h3>
        <p class="ticket-desc">{{ item.description }}</p>
        <div class="ticket-footer">
          <span class="ticket-type">{{ item.type || "Task" }}</span>
          <span class="ticket-points" *ngIf="item.points"
            >{{ item.points }} pts</span
          >
        </div>
      </div>
      }
    </div>
  </div>

  <!-- In QA Column -->
  <div class="board-column">
    <h2 class="column-header qa-header">In QA</h2>
    <div
      cdkDropList
      [cdkDropListData]="inQA"
      class="ticket-list"
      (cdkDropListDropped)="drop($event)"
    >
      @for (item of inQA; track item.id) {
      <div class="ticket-card" cdkDrag>
        <div class="ticket-id">{{ item.id }}</div>
        <h3 class="ticket-title">{{ item.title }}</h3>
        <p class="ticket-desc">{{ item.description }}</p>
        <div class="ticket-footer">
          <span class="ticket-type">{{ item.type || "Task" }}</span>
          <span class="ticket-points" *ngIf="item.points"
            >{{ item.points }} pts</span
          >
        </div>
      </div>
      }
    </div>
  </div>

  <!-- Done Column -->
  <div class="board-column">
    <h2 class="column-header done-header">Done</h2>
    <div
      cdkDropList
      [cdkDropListData]="done"
      class="ticket-list"
      (cdkDropListDropped)="drop($event)"
    >
      @for (item of done; track item.id) {
      <div class="ticket-card" cdkDrag>
        <div class="ticket-id">{{ item.id }}</div>
        <h3 class="ticket-title">{{ item.title }}</h3>
        <p class="ticket-desc">{{ item.description }}</p>
        <div class="ticket-footer">
          <span class="ticket-type">{{ item.type || "Task" }}</span>
          <span class="ticket-points" *ngIf="item.points"
            >{{ item.points }} pts</span
          >
        </div>
      </div>
      }
    </div>
  </div>
</div>
